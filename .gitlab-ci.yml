image: ruby:2.4.1

cache:
    paths:
        - node_modules/

before_script:
    - apt-get update -qy
    - apt-get install nodejs
    - apt-get install npm
    - gem install jekyll bundler
    - npm install
    - jekyll --version
    - node --version
    - npm --version

pages:
    stage: deploy
    script:
        - npm run deploy
    artifacts:
        paths:
            - public
    only:
        - master
